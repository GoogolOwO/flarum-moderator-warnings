{"version":3,"sources":["webpack://@askvortsov/flarum-moderator-warnings/webpack/bootstrap","webpack://@askvortsov/flarum-moderator-warnings/./forum.js","webpack://@askvortsov/flarum-moderator-warnings/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@askvortsov/flarum-moderator-warnings/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/addWarningControl.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/addWarningPage.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningList.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningListItem.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningModal.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningPage.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/index.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/model/Warning.js","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['app']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/Button']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/Modal']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/UserPage']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/fullTime']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['models/Post']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['models/User']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['utils/ItemList']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['utils/PostControls']\""],"names":["extend","PostControls","items","post","app","session","user","canManageWarnings","add","modal","show","WarningModal","callback","translator","trans","routes","path","component","WarningPage","UserPage","prototype","canViewWarnings","id","LinkButton","href","route","username","children","icon","WarningList","init","loading","warnings","props","params","refresh","view","LoadingIndicator","strikes","strikeCount","listItems","actionItems","toArray","map","warning","WarningListItem","length","ItemList","Button","className","onclick","handleOnClickCreate","bind","parseResults","results","push","apply","m","lazyRedraw","store","find","then","redraw","e","preventDefault","Component","addedByUser","formatedDate","fullTime","createdAt","mod_username","public_comment","private_comment","publicComment","prop","privateComment","title","content","withAttr","onsubmit","newWarning","userId","postId","createRecord","save","hide","Modal","loadUser","param","sort","initializers","models","Warning","User","Model","attribute","addWarningControl","addWarningPage","Extend","Warnings","transformDate","hiddenAt","hasOne","hiddenByUser"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport PostControls from 'flarum/utils/PostControls';\nimport Button from 'flarum/components/Button';\n\nimport WarningModal from './components/WarningModal';\n\nexport default function () {\n    extend(PostControls, 'moderationControls', function (items, post) {\n        if (!app.session.user.canManageWarnings()) return;\n\n        items.add('warning',\n            <Button\n                icon=\"fas fa-exclamation-circle\"\n                onclick={() => app.modal.show(new WarningModal({\n                    callback: () => {},\n                    user: post.user(),\n                    post: post,\n                }))}>\n                {app.translator.trans('askvortsov-moderator-warnings.forum.post_controls.warning_button')}\n            </Button>\n        );\n    });\n}\n","import { extend } from 'flarum/extend';\nimport UserPage from 'flarum/components/UserPage';\nimport LinkButton from 'flarum/components/LinkButton';\nimport WarningPage from './components/WarningPage';\nimport Model from 'flarum/Model';\nimport User from 'flarum/models/User';\n\nexport default function () {\n    app.routes['user.warnings'] = { path: '/u/:username/warnings', component: WarningPage.component() };\n\n    extend(UserPage.prototype, 'navItems', function (items) {\n        if (app.session.user.canViewWarnings() || this.user.id() === app.session.user.id()) {\n            items.add(\n                'warnings',\n                LinkButton.component({\n                    href: app.route('user.warnings', { username: this.user.username() }),\n                    children: app.translator.trans('askvortsov-moderator-warnings.forum.user.warnings'),\n                    icon: 'fas fa-exclamation-circle',\n                }),\n                10\n            );\n        }\n    });\n}","import Component from 'flarum/Component';\nimport app from 'flarum/app';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport WarningListItem from './WarningListItem';\nimport Button from 'flarum/components/Button';\nimport WarningModal from './WarningModal';\nimport listItems from 'flarum/helpers/listItems';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default class WarningList extends Component {\n  init() {\n    super.init();\n    this.loading = true;\n    this.warnings = [];\n    this.user = this.props.params.user;\n    this.refresh();\n  }\n\n  view() {\n    let loading;\n\n    if (this.loading) {\n      loading = LoadingIndicator.component();\n    }\n\n    return (\n      <div className=\"WarningList\">\n        <h1 className=\"WarningList-warnings\">{app.translator.trans('askvortsov-moderator-warnings.forum.warning-list.warnings', { strikes: this.user.strikeCount() })}</h1>\n        <div class=\"Warnings-toolbar\">\n          <ul className=\"Warnings-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n        </div>\n        <ul className=\"WarningList-Warnings\">\n          {this.warnings.map(warning => {\n            return (\n              <li key={warning.id()} data-id={warning.id()}>\n                {WarningListItem.component({ warning })}\n              </li>\n            );\n          })}\n          {!this.loading && this.warnings.length === 0 && (\n            <label>{app.translator.trans('askvortsov-moderator-warnings.forum.warning-list.no-warnings')}</label>\n          )}\n        </ul>\n        <div className=\"WarningList-loadMore\">{loading}</div>\n      </div>\n    );\n  }\n\n  actionItems() {\n    const items = new ItemList();\n\n    if (app.session.user.canManageWarnings()) {\n      items.add(\n        'create_warning',\n        Button.component({\n          children: app.translator.trans('askvortsov-moderator-warnings.forum.warning-list.add_button'),\n          className: 'Button Button--primary',\n          onclick: this.handleOnClickCreate.bind(this),\n        })\n      );\n    }\n\n    return items;\n  }\n\n  parseResults(results) {\n    [].push.apply(this.warnings, results);\n    this.loading = false;\n    m.lazyRedraw();\n\n    return results;\n  }\n\n  refresh() {\n    return app.store.find('warnings', this.user.id()).then(\n      results => {\n        this.warnings = [];\n        this.parseResults(results);\n      },\n      () => {\n        this.loading = false;\n        m.redraw();\n      }\n    );\n  }\n\n  handleOnClickCreate(e) {\n    e.preventDefault();\n    app.modal.show(\n      new WarningModal({\n        callback: this.refresh.bind(this),\n        ...this.props.params,\n      })\n    );\n  }\n}","import Component from 'flarum/Component';\nimport username from 'flarum/helpers/username';\nimport fullTime from 'flarum/helpers/fullTime';\n\nexport default class WarningListItem extends Component {\n  view() {\n    const { warning } = this.props;\n    const addedByUser = warning.addedByUser();\n    const formatedDate = fullTime(warning.createdAt());\n\n    return (\n      <div className=\"WarningListItem\">\n        <div className=\"WarningListItem-main\">\n          <h3 className=\"WarningListItem-title\">{app.translator.trans('askvortsov-moderator-warnings.forum.warning_list_item.list_item_heading', { mod_username: username(addedByUser), strikes: warning.strikes() })}</h3>\n          {formatedDate}\n          <ul className=\"WarningListItem-info\">\n            <li className=\"item-excerpt\">\n              <span>{warning.public_comment()}</span>\n            </li>\n            {app.session.user.canManageWarnings() ?\n              <li className=\"item-excerpt\">\n                <span>{warning.private_comment()}</span>\n              </li> : ''}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport username from 'flarum/helpers/username';\n\nexport default class WarningModal extends Modal {\n    init() {\n        super.init();\n\n        this.publicComment = m.prop('');\n        this.privateComment = m.prop('');\n        this.strikes = m.prop(0);\n    }\n\n    className() {\n        return 'WarningsModal Modal--large';\n    }\n\n    title() {\n        return app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.create-heading');\n    }\n\n    content() {\n        return (\n            <div className=\"Modal-body\">\n                <div className=\"Form Form--centered\">\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-warnings.forum.warning-modal.strikes_heading')}\n                                <input\n                                    type=\"number\"\n                                    className=\"FormControl\"\n                                    value={this.strikes()}\n                                    min=\"0\" max=\"5\" required={true}\n                                    oninput={m.withAttr('value', this.strikes)}>\n                                </input>\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-warnings.forum.warning-modal.public_comment_heading', {\n                                    username: username(this.props.user),\n                                })}\n                                <textarea\n                                    className=\"FormControl\"\n                                    value={this.publicComment()}\n                                    required={true}\n                                    oninput={m.withAttr('value', this.publicComment)}\n                                    rows=\"6\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-warnings.forum.warning-modal.private_comment_heading', {\n                                    username: username(this.props.user),\n                                })}\n                                <textarea\n                                    className=\"FormControl\"\n                                    value={this.privateComment()}\n                                    oninput={m.withAttr('value', this.privateComment)}\n                                    rows=\"6\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n                            {app.translator.trans('askvortsov-moderator-warnings.forum.warning-modal.submit_button')}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        this.loading = true;\n\n        const newWarning = {\n            userId: this.props.user.id(),\n            strikes: this.strikes(),\n            public_comment: this.publicComment(),\n            private_comment: this.privateComment(),\n        };\n\n        if (this.props.post) {\n            newWarning.postId = this.props.post.id();\n        }\n\n        app.store\n            .createRecord('warnings')\n            .save(newWarning)\n            .then(this.hide.bind(this))\n            .then(this.props.callback)\n            .catch(() => { });\n    }\n}","import UserPage from 'flarum/components/UserPage';\nimport WarningList from './WarningList';\n\nexport default class WarningPage extends UserPage {\n    init() {\n        super.init();\n        this.loadUser(m.route.param('username'));\n    }\n\n    content() {\n        return (\n            <div className=\"WarningsUserPage\">\n                {WarningList.component({\n                    params: {\n                        user: this.user,\n                        sort: 'newest',\n                    },\n                })}\n            </div>\n        );\n    }\n}","import app from 'flarum/app';\r\nimport addWarningPage from './addWarningPage';\r\nimport addWarningControl from './addWarningControl';\r\nimport Warning from './model/Warning';\r\nimport { Extend } from '@flarum/core/forum';\r\nimport Post from 'flarum/models/Post';\r\nimport User from 'flarum/models/User';\r\nimport Model from 'flarum/Model';\r\n\r\napp.initializers.add('askvortsov/flarum-moderator-warnings', app => {\r\n    app.store.models.warnings = Warning;\r\n    User.prototype.canViewWarnings = Model.attribute('canViewWarnings');\r\n    User.prototype.canManageWarnings = Model.attribute('canManageWarnings');\r\n    User.prototype.strikeCount = Model.attribute('strikeCount');\r\n    addWarningControl();\r\n    addWarningPage();\r\n});\r\n\r\nexport const extend = [new Extend.Model('warnings', Warning)];","import Model from 'flarum/Model';\n\nexport default class Warnings extends Model { }\nObject.assign(Warnings.prototype, {\n    id: Model.attribute('id'),\n    public_comment: Model.attribute('public_comment'),\n    private_comment: Model.attribute('private_comment'),\n    strikes: Model.attribute('strikes'),\n    createdAt: Model.attribute('createdAt', Model.transformDate),\n    hiddenAt: Model.attribute('hiddenAt', Model.transformDate),\n    addedByUser: Model.hasOne('addedByUser'),\n    hiddenByUser: Model.hasOne('hiddenByUser'),\n    post: Model.hasOne('post'),\n});\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/fullTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Post'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/PostControls'];"],"sourceRoot":""}