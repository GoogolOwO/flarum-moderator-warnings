{"version":3,"sources":["webpack://@askvortsov/flarum-moderator-warnings/webpack/bootstrap","webpack://@askvortsov/flarum-moderator-warnings/./forum.js","webpack://@askvortsov/flarum-moderator-warnings/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@askvortsov/flarum-moderator-warnings/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/addModerationWarningsControl.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/addWarningsPage.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/Warnings.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningsModal.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningsPage.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/components/WarningListItem.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/index.js","webpack://@askvortsov/flarum-moderator-warnings/./src/forum/model/Warnings.js","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['app']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/Button']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/Modal']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['components/UserPage']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/fullTime']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['models/Post']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['models/User']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['utils/ItemList']\"","webpack://@askvortsov/flarum-moderator-warnings/external \"flarum.core.compat['utils/PostControls']\""],"names":["extend","PostControls","items","post","canManageWarnings","console","log","props","user","add","app","modal","show","WarningsModal","callback","translator","trans","User","prototype","canViewWarnings","Model","attribute","routes","path","component","WarningsPage","UserPage","LinkButton","href","route","username","children","icon","Warnings","init","loading","warnings","refresh","view","LoadingIndicator","listItems","actionItems","toArray","map","warning","id","WarningListItem","length","params","ItemList","canCreateWarning","Button","className","onclick","handleOnClickCreate","bind","disabled","parseResults","results","push","apply","m","lazyRedraw","store","find","then","redraw","e","preventDefault","WarningsCreate","Component","warningContent","prop","warningPoints","title","content","withAttr","onsubmit","createRecord","save","userId","points","comment","errorHandler","onerror","hide","error","status","alert","Modal","loadUser","param","sort","addedByUser","formatedDate","fullTime","createdAt","mod_username","initializers","models","Warnings","Warnings","Post","addModerationWarningsControl","addWarningsPage","Extend","transformDate","hasOne"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport PostControls from 'flarum/utils/PostControls';\nimport Button from 'flarum/components/Button';\n\nimport WarningsModal from './components/WarningsModal';\n\nexport default function () {\n    extend(PostControls, 'moderationControls', function (items, post) {\n        if (!post.canManageWarnings()) return;\n        console.log(post)\n        console.log(post.props)\n        const user = post.user();\n\n        items.add('warning',\n            <Button\n                icon=\"fas fa-exclamation-circle\"\n                onclick={() => app.modal.show(new WarningsModal({\n                    callback: () => { },\n                    user: user,\n                }))}>\n                {app.translator.trans('askvortsov-moderator-warnings.forum.post_controls.warning_button')}\n            </Button>\n        );\n    });\n}\n","import { extend } from 'flarum/extend';\nimport UserPage from 'flarum/components/UserPage';\nimport LinkButton from 'flarum/components/LinkButton';\nimport WarningsPage from './components/WarningsPage';\nimport Model from 'flarum/Model';\nimport User from 'flarum/models/User';\n\nexport default function () {\n    User.prototype.canViewWarnings = Model.attribute('canViewWarnings');\n\n    app.routes['user.warnings'] = { path: '/u/:username/warnings', component: WarningsPage.component() };\n\n    extend(UserPage.prototype, 'navItems', function (items) {\n        if (this.user.canViewWarnings()) {\n            items.add(\n                'warnings',\n                LinkButton.component({\n                    href: app.route('user.warnings', { username: this.user.username() }),\n                    children: app.translator.trans('askvortsov-moderator-warnings.forum.user.warnings'),\n                    icon: 'fas fa-exclamation-circle',\n                }),\n                10\n            );\n        }\n    });\n}","import Component from 'flarum/Component';\nimport app from 'flarum/app';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport WarningListItem from './WarningListItem';\nimport Button from 'flarum/components/Button';\nimport WarningsCreate from './WarningsModal';\nimport listItems from 'flarum/helpers/listItems';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default class Warnings extends Component {\n    init() {\n        super.init();\n        this.loading = true;\n        this.warnings = [];\n        this.refresh();\n    }\n\n    view() {\n        let loading;\n\n        if (this.loading) {\n            loading = LoadingIndicator.component();\n        }\n\n        return (\n            <div className=\"DiscussionList\">\n                <h1 className=\"DiscussionList-warnings\">{app.translator.trans('askvortsov-moderator-warnings.forum.user.warnings')}</h1>\n                <div class=\"Warnings-toolbar\">\n                    <ul className=\"Warnings-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n                </div>\n                <ul className=\"DiscussionList-discussions\">\n                    {this.warnings.map(warning => {\n                        return (\n                            <li key={warning.id()} data-id={warning.id()}>\n                                {WarningListItem.component({ warning })}\n                            </li>\n                        );\n                    })}\n                    {!this.loading && this.warnings.length === 0 && (\n                        <label>{app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.noWarnings')}</label>\n                    )}\n                </ul>\n                <div className=\"DiscussionList-loadMore\">{loading}</div>\n            </div>\n        );\n    }\n\n    actionItems() {\n        const { user } = this.props.params;\n        const items = new ItemList();\n        const canCreateWarning = user.canManageWarnings();\n\n        items.add(\n            'create_warning',\n            Button.component({\n                children: app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.add_button'),\n                className: 'Button Button--primary',\n                onclick: this.handleOnClickCreate.bind(this),\n                disabled: !canCreateWarning,\n            })\n        );\n\n        return items;\n    }\n\n    parseResults(results) {\n        [].push.apply(this.warnings, results);\n        this.loading = false;\n        m.lazyRedraw();\n\n        return results;\n    }\n\n    refresh() {\n        return app.store.find('warnings', this.props.params.user.id()).then(\n            results => {\n                this.warnings = [];\n                this.parseResults(results);\n            },\n            () => {\n                this.loading = false;\n                m.redraw();\n            }\n        );\n    }\n\n    handleOnClickCreate(e) {\n        e.preventDefault();\n        app.modal.show(\n            new WarningsCreate({\n                callback: this.refresh.bind(this),\n                ...this.props.params,\n            })\n        );\n    }\n}","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport username from 'flarum/helpers/username';\n\nexport default class WarningsModal extends Modal {\n    init() {\n        super.init();\n\n        this.warningContent = m.prop('');\n        this.warningPoints = m.prop(0);\n    }\n\n    className() {\n        return 'WarningsModal Modal--large';\n    }\n\n    title() {\n        return app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.create-heading');\n    }\n\n    content() {\n        return (\n            <div className=\"Modal-body\">\n                <div className=\"Form Form--centered\">\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.points_heading')}\n                                <input\n                                    type=\"number\"\n                                    className=\"FormControl\"\n                                    value={this.warningPoints()} min=\"0\" max=\"5\"\n                                    oninput={m.withAttr('value', this.warningPoints)}>\n                                </input>\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.input_heading', {\n                                    username: username(this.props.user),\n                                })}\n                                <textarea\n                                    className=\"FormControl\"\n                                    value={this.warningContent()}\n                                    oninput={m.withAttr('value', this.warningContent)}\n                                    rows=\"6\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n                            {app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.submit_button')}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        this.loading = true;\n\n        app.store\n            .createRecord('warnings')\n            .save(\n                {\n                    userId: this.props.user.id(),\n                    points: this.warningPoints(),\n                    comment: this.warningContent(),\n                },\n                { errorHandler: this.onerror.bind(this) }\n            )\n            .then(this.hide.bind(this))\n            .then(this.props.callback)\n            .catch(() => { });\n    }\n\n    onerror(error) {\n        if (error.status === 422) {\n            error.alert.props.children = app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.no_content_given');\n        }\n\n        super.onerror(error);\n    }\n}","import UserPage from 'flarum/components/UserPage';\nimport Warnings from './Warnings';\n\nexport default class WarningsPage extends UserPage {\n    init() {\n        super.init();\n        this.loadUser(m.route.param('username'));\n    }\n\n    content() {\n        return (\n            <div className=\"DiscussionsUserPage\">\n                {Warnings.component({\n                    params: {\n                        user: this.user,\n                        sort: 'newest',\n                    },\n                })}\n            </div>\n        );\n    }\n}","import Component from 'flarum/Component';\nimport username from 'flarum/helpers/username';\nimport fullTime from 'flarum/helpers/fullTime';\n\nexport default class WarningListItem extends Component {\n    view() {\n        const { warning } = this.props;\n        const addedByUser = warning.addedByUser();\n        const formatedDate = fullTime(warning.createdAt());\n\n        return (\n            <div className=\"DiscussionListItem\">\n                <div className=\"DiscussionListItem-main\">\n                    <h3 className=\"DiscussionListItem-title\">{app.translator.trans('askvortsov-moderator-warnings.forum.Warnings.list_item_heading', { mod_username: username(addedByUser), points: warning.points()})}</h3>\n                    {formatedDate}\n                    <ul className=\"DiscussionListItem-info\">\n                        <li className=\"item-excerpt\">\n                            <span>{warning.comment()}</span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}","import app from 'flarum/app';\r\nimport addWarningsPage from './addWarningsPage';\r\nimport addModerationWarningsControl from './addModerationWarningsControl';\r\nimport Warnings from './model/Warnings';\r\nimport { Extend } from '@flarum/core/forum';\r\nimport Post from 'flarum/models/Post';\r\nimport User from 'flarum/models/User';\r\nimport Model from 'flarum/Model';\r\n\r\napp.initializers.add('askvortsov/flarum-moderator-warnings', app => {\r\n    app.store.models.Warnings = Warnings;\r\n    app.store.models.warnings = Warnings;\r\n    User.prototype.canViewWarnings = Model.attribute('canViewWarnings');\r\n    User.prototype.canManageWarnings = Model.attribute('canManageWarnings');\r\n    Post.prototype.canManageWarnings = Model.attribute('canManageWarnings');\r\n    addModerationWarningsControl();\r\n    addWarningsPage();\r\n});\r\n\r\nexport const extend = [new Extend.Model('Warnings', Warnings)];","import Model from 'flarum/Model';\n\nexport default class Warnings extends Model { }\nObject.assign(Warnings.prototype, {\n    id: Model.attribute('id'),\n    comment: Model.attribute('comment'),\n    points: Model.attribute('points'),\n    createdAt: Model.attribute('createdAt', Model.transformDate),\n    addedByUser: Model.hasOne('addedByUser'),\n});\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/fullTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Post'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/PostControls'];"],"sourceRoot":""}