{"version":3,"sources":["webpack://@askvortsov/flarum-moderator-strikes/webpack/bootstrap","webpack://@askvortsov/flarum-moderator-strikes/./forum.js","webpack://@askvortsov/flarum-moderator-strikes/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@askvortsov/flarum-moderator-strikes/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/addModeratorStrikesPage.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/components/ModeratorStrikes.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/components/ModeratorStrikesModal.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/components/ModeratorStrikesPage.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/components/StrikeListItem.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/index.js","webpack://@askvortsov/flarum-moderator-strikes/./src/forum/model/ModeratorStrike.js","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['app']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['components/Button']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['components/Modal']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['components/UserPage']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['helpers/fullTime']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['models/User']\"","webpack://@askvortsov/flarum-moderator-strikes/external \"flarum.core.compat['utils/ItemList']\""],"names":["User","prototype","canViewModeratorStrikes","Model","attribute","app","routes","path","component","ModeratorStrikesPage","extend","UserPage","items","user","add","LinkButton","href","route","username","children","translator","trans","icon","ModeratorStrikes","init","loading","strikes","refresh","view","LoadingIndicator","listItems","actionItems","toArray","map","strike","id","StrikeListItem","length","props","params","ItemList","canCreateStrike","canManageModeratorStrikes","Button","className","onclick","handleOnClickCreate","bind","disabled","parseResults","results","push","apply","m","lazyRedraw","store","find","then","redraw","e","preventDefault","modal","show","ModeratorStrikeCreate","callback","Component","ModeratorStrikesCreate","strikeContent","prop","strikePoints","title","content","withAttr","onsubmit","createRecord","save","userId","points","comment","errorHandler","onerror","hide","error","status","alert","Modal","loadUser","param","sort","addedByUser","formatedDate","fullTime","createdAt","mod_username","initializers","models","moderatorStrike","ModeratorStrike","addModeratorStrikesPage","Extend","transformDate","hasOne"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport UserPage from 'flarum/components/UserPage';\nimport LinkButton from 'flarum/components/LinkButton';\nimport ModeratorStrikesPage from './components/ModeratorStrikesPage';\nimport Model from 'flarum/Model';\nimport User from 'flarum/models/User';\n\nexport default function () {\n    User.prototype.canViewModeratorStrikes = Model.attribute('canViewModeratorStrikes');\n\n    app.routes['user.strikes'] = { path: '/u/:username/strikes', component: ModeratorStrikesPage.component() };\n\n    extend(UserPage.prototype, 'navItems', function (items) {\n        if (this.user.canViewModeratorStrikes()) {\n            items.add(\n                'strikes',\n                LinkButton.component({\n                    href: app.route('user.strikes', { username: this.user.username() }),\n                    children: app.translator.trans('askvortsov-moderator-strikes.forum.user.strikes'),\n                    icon: 'fas fa-exclamation-circle',\n                }),\n                10\n            );\n        }\n    });\n}","import Component from 'flarum/Component';\nimport app from 'flarum/app';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport StrikeListItem from './StrikeListItem';\nimport Button from 'flarum/components/Button';\nimport ModeratorStrikeCreate from './ModeratorStrikesModal';\nimport listItems from 'flarum/helpers/listItems';\nimport ItemList from 'flarum/utils/ItemList';\n\nexport default class ModeratorStrikes extends Component {\n    init() {\n        super.init();\n        this.loading = true;\n        this.strikes = [];\n        this.refresh();\n    }\n\n    view() {\n        let loading;\n\n        if (this.loading) {\n            loading = LoadingIndicator.component();\n        }\n\n        return (\n            <div className=\"DiscussionList\">\n                <h1 className=\"DiscussionList-strikes\">{app.translator.trans('askvortsov-moderator-strikes.forum.user.strikes')}</h1>\n                <div class=\"ModeratorStrikes-toolbar\">\n                    <ul className=\"ModeratorStrikes-toolbar-action\">{listItems(this.actionItems().toArray())}</ul>\n                </div>\n                <ul className=\"DiscussionList-discussions\">\n                    {this.strikes.map(strike => {\n                        return (\n                            <li key={strike.id()} data-id={strike.id()}>\n                                {StrikeListItem.component({ strike })}\n                            </li>\n                        );\n                    })}\n                    {!this.loading && this.strikes.length === 0 && (\n                        <label>{app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.noStrikes')}</label>\n                    )}\n                </ul>\n                <div className=\"DiscussionList-loadMore\">{loading}</div>\n            </div>\n        );\n    }\n\n    actionItems() {\n        const { user } = this.props.params;\n        const items = new ItemList();\n        const canCreateStrike = user.canManageModeratorStrikes();\n\n        items.add(\n            'create_strike',\n            Button.component({\n                children: app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.add_button'),\n                className: 'Button Button--primary',\n                onclick: this.handleOnClickCreate.bind(this),\n                disabled: !canCreateStrike,\n            })\n        );\n\n        return items;\n    }\n\n    parseResults(results) {\n        [].push.apply(this.strikes, results);\n        this.loading = false;\n        m.lazyRedraw();\n\n        return results;\n    }\n\n    refresh() {\n        return app.store.find('strikes', this.props.params.user.id()).then(\n            results => {\n                this.strikes = [];\n                this.parseResults(results);\n            },\n            () => {\n                this.loading = false;\n                m.redraw();\n            }\n        );\n    }\n\n    handleOnClickCreate(e) {\n        e.preventDefault();\n        app.modal.show(\n            new ModeratorStrikeCreate({\n                callback: this.refresh.bind(this),\n                ...this.props.params,\n            })\n        );\n    }\n}","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport username from 'flarum/helpers/username';\n\nexport default class ModeratorStrikesCreate extends Modal {\n    init() {\n        super.init();\n\n        this.strikeContent = m.prop('');\n        this.strikePoints = m.prop(0);\n    }\n\n    className() {\n        return 'ModeratorStrikesCreateModal Modal--large';\n    }\n\n    title() {\n        return app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.create-heading');\n    }\n\n    content() {\n        return (\n            <div className=\"Modal-body\">\n                <div className=\"Form Form--centered\">\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.points_heading')}\n                                <input\n                                    type=\"number\"\n                                    className=\"FormControl\"\n                                    value={this.strikePoints()} min=\"0\" max=\"5\"\n                                    oninput={m.withAttr('value', this.strikePoints)}>\n                                </input>\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <div>\n                            <label>\n                                {app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.input_heading', {\n                                    username: username(this.props.user),\n                                })}\n                                <textarea\n                                    className=\"FormControl\"\n                                    value={this.strikeContent()}\n                                    oninput={m.withAttr('value', this.strikeContent)}\n                                    rows=\"6\"\n                                />\n                            </label>\n                        </div>\n                    </div>\n                    <div className=\"Form-group\">\n                        <Button className=\"Button Button--primary Button--block\" type=\"submit\" loading={this.loading}>\n                            {app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.submit_button')}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        this.loading = true;\n\n        app.store\n            .createRecord('strikes')\n            .save(\n                {\n                    userId: this.props.user.id(),\n                    points: this.strikePoints(),\n                    comment: this.strikeContent(),\n                },\n                { errorHandler: this.onerror.bind(this) }\n            )\n            .then(this.hide.bind(this))\n            .then(this.props.callback)\n            .catch(() => { });\n    }\n\n    onerror(error) {\n        if (error.status === 422) {\n            error.alert.props.children = app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.no_content_given');\n        }\n\n        super.onerror(error);\n    }\n}","import UserPage from 'flarum/components/UserPage';\nimport ModeratorStrikes from './ModeratorStrikes';\n\nexport default class ModeratorStrikesPage extends UserPage {\n    init() {\n        super.init();\n        this.loadUser(m.route.param('username'));\n    }\n\n    content() {\n        return (\n            <div className=\"DiscussionsUserPage\">\n                {ModeratorStrikes.component({\n                    params: {\n                        user: this.user,\n                        sort: 'newest',\n                    },\n                })}\n            </div>\n        );\n    }\n}","import Component from 'flarum/Component';\nimport username from 'flarum/helpers/username';\nimport fullTime from 'flarum/helpers/fullTime';\n\nexport default class StrikeListItem extends Component {\n    view() {\n        const { strike } = this.props;\n        const addedByUser = strike.addedByUser();\n        const formatedDate = fullTime(strike.createdAt());\n\n        return (\n            <div className=\"DiscussionListItem\">\n                <div className=\"DiscussionListItem-main\">\n                    <h3 className=\"DiscussionListItem-title\">{app.translator.trans('askvortsov-moderator-strikes.forum.moderatorStrikes.list_item_heading', { mod_username: username(addedByUser), points: strike.points()})}</h3>\n                    {formatedDate}\n                    <ul className=\"DiscussionListItem-info\">\n                        <li className=\"item-excerpt\">\n                            <span>{strike.comment()}</span>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}","import app from 'flarum/app';\r\nimport addModeratorStrikesPage from './addModeratorStrikesPage';\r\nimport ModeratorStrike from './model/ModeratorStrike';\r\nimport { Extend } from '@flarum/core/forum';\r\nimport User from 'flarum/models/User';\r\nimport Model from 'flarum/Model';\r\n\r\napp.initializers.add('askvortsov/flarum-moderator-strikes', app => {\r\n    app.store.models.moderatorStrike = ModeratorStrike;\r\n    app.store.models.strikes = ModeratorStrike;\r\n    User.prototype.canViewModeratorStrikes = Model.attribute('canViewModeratorStrikes');\r\n    User.prototype.canManageModeratorStrikes = Model.attribute('canManageModeratorStrikes');\r\n    addModeratorStrikesPage();\r\n});\r\n\r\nexport const extend = [new Extend.Model('moderatorStrikes', ModeratorStrike)];","import Model from 'flarum/Model';\n\nexport default class ModeratorStrike extends Model { }\nObject.assign(ModeratorStrike.prototype, {\n    id: Model.attribute('id'),\n    comment: Model.attribute('comment'),\n    points: Model.attribute('points'),\n    createdAt: Model.attribute('createdAt', Model.transformDate),\n    addedByUser: Model.hasOne('addedByUser'),\n});\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/UserPage'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/fullTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/ItemList'];"],"sourceRoot":""}